---
title: Overvejelser vedrørende opgradering - Microsoft Dynamics 365 Project Service Automation version 2.x eller 1.x til version 3
description: Dette emne indeholder oplysninger om de overvejelser, du skal gøre dig, når du opgraderer fra Project Service Automation version 2.x eller 1.x til version 3.
manager: kfend
ms.prod: ''
ms.service: project-operations
ms.custom:
- dyn365-projectservice
ms.date: 11/13/2018
ms.topic: article
author: JohnPBurrows
ms.author: rumant
audience: Admin
search.audienceType:
- admin
- customizer
- enduser
search.app:
- D365PS
- ProjectOperations
ms.openlocfilehash: ff0777705c6d0e2c0d8aa4ed191f4ae6b1786100
ms.sourcegitcommit: fa32b1893286f20271fa4ec4be8fc68bd135f53c
ms.translationtype: HT
ms.contentlocale: da-DK
ms.lasthandoff: 02/15/2021
ms.locfileid: "5281651"
---
# <a name="upgrade-considerations---psa-version-2x-or-1x-to-version-3"></a><span data-ttu-id="70be8-103">Overvejelser i forbindelse med opgradering – PSA version 2.x eller 1.x til version 3</span><span class="sxs-lookup"><span data-stu-id="70be8-103">Upgrade considerations - PSA version 2.x or 1.x to version 3</span></span>

[!include [banner](../includes/psa-now-project-operations.md)]

[!INCLUDE[cc-applies-to-psa-app-1x-2x](../includes/cc-applies-to-psa-app-1x-2x.md)]

## <a name="project-service-automation-and-field-service"></a><span data-ttu-id="70be8-104">Project Service Automation og Field Service</span><span class="sxs-lookup"><span data-stu-id="70be8-104">Project Service Automation and Field Service</span></span>
<span data-ttu-id="70be8-105">Både Dynamics 365 Project Service Automation og Dynamics 365 Field Service bruger løsningen Universal Resourcing Scheduling (URS) til ressourceplanlægning.</span><span class="sxs-lookup"><span data-stu-id="70be8-105">Both Dynamics 365 Project Service Automation and Dynamics 365 Field Service use the Universal Resourcing Scheduling (URS) solution for resource scheduling.</span></span> <span data-ttu-id="70be8-106">Hvis du har Project Service Automation og Field Service på din forekomst, skal du opgradere begge løsninger til den nyeste version.</span><span class="sxs-lookup"><span data-stu-id="70be8-106">If you have Project Service Automation and Field Service in your instance, upgrade both solutions to the latest version.</span></span> <span data-ttu-id="70be8-107">For Project Service Automation er det version 3.x.</span><span class="sxs-lookup"><span data-stu-id="70be8-107">For Project Service Automation, that is version 3.x.</span></span> <span data-ttu-id="70be8-108">For Field Service er det version 8.x.</span><span class="sxs-lookup"><span data-stu-id="70be8-108">For Field Service, it is version 8.x.</span></span> <span data-ttu-id="70be8-109">Opgradering af Project Service Automation eller Field Service installerer den nyeste version af URS.</span><span class="sxs-lookup"><span data-stu-id="70be8-109">Upgrading Project Service Automation or Field Service will install the latest version of URS.</span></span> <span data-ttu-id="70be8-110">Hvis både Project Service Automation- og Field Service-løsningerne på samme forekomst mangler at blive opgraderet til den nyeste version, kan der være en vis uoverensstemmelse i funktionsmåden.</span><span class="sxs-lookup"><span data-stu-id="70be8-110">If both the Project Service Automation and Field Service solutions in the same instance aren’t upgraded to the latest version, there might be some inconsistent behavior.</span></span>

## <a name="resource-assignments"></a><span data-ttu-id="70be8-111">Ressourcetildelinger</span><span class="sxs-lookup"><span data-stu-id="70be8-111">Resource assignments</span></span>
<span data-ttu-id="70be8-112">I Project Service Automation version 2 og version 1 blev opgavetildelinger gemt som underordnede opgaver (også kaldet linjeopgaver) i **Opgaveobjektet** og indirekte relateret til objektet **Ressourcetildeling**.</span><span class="sxs-lookup"><span data-stu-id="70be8-112">In Project Service Automation version 2 and version 1, task assignments were stored as child tasks (also called line tasks) in the **Task entity**, and indirectly related to the **Resource Assignment** entity.</span></span> <span data-ttu-id="70be8-113">Linjeopgaven var synlig i pop op-vinduet for tildelinger i arbejdsopgavehierakiet (WBS).</span><span class="sxs-lookup"><span data-stu-id="70be8-113">The line task was visible in the assignment pop-up window on the Work Breakdown Structure (WBS).</span></span>

![Linjeopgaver i WBS i Project Service Automation version 2 og version 1](media/upgrade-line-task-01.png)

<span data-ttu-id="70be8-115">I version 3 af Project Service Automation er det underliggende skema for tildeling af reserverbare ressourcer til opgaver ændret.</span><span class="sxs-lookup"><span data-stu-id="70be8-115">In version 3 of Project Service Automation, the underlying schema of assigning bookable resources to tasks has changed.</span></span> <span data-ttu-id="70be8-116">Linjeopgaven er forældet, og der er et direkte 1:1 forhold mellem opgaven i **Opgaveobjektet** og teammedlemmet i objektet **Ressourcetildeling.**</span><span class="sxs-lookup"><span data-stu-id="70be8-116">The line task has been deprecated and there is a direct 1:1 relationship between the task in the **Task entity** and the team member in the **Resource Assignment** entity.</span></span> <span data-ttu-id="70be8-117">Opgaver, der tildeles til et teammedlem, lagres nu direkte i objektet Ressourcetildeling.</span><span class="sxs-lookup"><span data-stu-id="70be8-117">Tasks that are assigned to a project team member are now stored directly in the Resource Assignment entity.</span></span>  

<span data-ttu-id="70be8-118">Disse ændringer påvirker opgraderingen af eksisterende projekter, der har ressourcetildelinger for navngivne reserverbare ressourcer og generiske ressourcer i et projektteam.</span><span class="sxs-lookup"><span data-stu-id="70be8-118">These changes impact the upgrade of any existing projects that have resource assignments for named bookable resources and generic resources on a project team.</span></span> <span data-ttu-id="70be8-119">Dette emne indeholder de overvejelser, du skal gøre dig for at tage højde for dine projekter, når du opgraderer til version 3.</span><span class="sxs-lookup"><span data-stu-id="70be8-119">This topic provides the considerations that you will need to take into account for your projects when you upgrade to version 3.</span></span> 

### <a name="tasks-assigned-to-named-resources"></a><span data-ttu-id="70be8-120">Opgaver tildelt til navngivne ressourcer</span><span class="sxs-lookup"><span data-stu-id="70be8-120">Tasks assigned to named resources</span></span>
<span data-ttu-id="70be8-121">Ved hjælp af det underliggende opgaveobjekt kunne teammedlemmer i version 2 og version 1 portrættere en anden rolle, end den rolle der er defineret som standard.</span><span class="sxs-lookup"><span data-stu-id="70be8-121">Using the underlying task entity, tasks in version 2 and version 1 allowed team members to portray a role other than their default defined role.</span></span> <span data-ttu-id="70be8-122">F.eks. kunne Charlotte Jeppesen, der som standard er tildelt rollen som programadministrator, blive tildelt til en opgave med rollen som udvikler.</span><span class="sxs-lookup"><span data-stu-id="70be8-122">For example, Gracie George, who’s by default assigned the role of Program Manager, could be assigned to a task with the role of Developer.</span></span> <span data-ttu-id="70be8-123">I version 3 er rollen for et navngivet teammedlem altid standardrollen, så alle opgaver, som Charlotte Jeppesen tildeles, bruger Charlottes standardrolle som programadministrator.</span><span class="sxs-lookup"><span data-stu-id="70be8-123">In version 3, the role of a named team member is always the default, so any task that Gracie George is assigned to uses Gracie's default role of Program Manager.</span></span>

<span data-ttu-id="70be8-124">Hvis du har tildelt en ressource til en opgave uden for standardrollen i version 2 og version 1, tildeles den navngivne ressource standardrollen for alle opgavetildelinger uanset rolletildeling i version 2, når du opgraderer.</span><span class="sxs-lookup"><span data-stu-id="70be8-124">If you have assigned a resource to a task outside of their default role in version 2 and version 1, when you upgrade, the named resource will be assigned the default role for all task assignments, regardless of role assignment in version 2.</span></span> <span data-ttu-id="70be8-125">Denne tildeling resulterer i, at der er forskelle mellem de beregnede estimater fra version 2 eller version 1 i forhold til version 3, da estimater beregnes på baggrund af ressourcens rolle og ikke linjeopgavetildelingen.</span><span class="sxs-lookup"><span data-stu-id="70be8-125">This assignment results in differences in the calculated estimates from version 2 or version 1 to version 3 because estimates are calculated based on the role of the resource and not the line task assignment.</span></span> <span data-ttu-id="70be8-126">I version 2 er der f.eks. tildelt to opgaver til Anne-Marie Jespersen.</span><span class="sxs-lookup"><span data-stu-id="70be8-126">For example, in version 2, two tasks have been assigned to Ashley Chinn.</span></span> <span data-ttu-id="70be8-127">Rollen på linjeopgaven for opgave 1 er udvikler og for opgave 2, programadministrator.</span><span class="sxs-lookup"><span data-stu-id="70be8-127">The role on the line task for task 1 is Developer and for task 2, Program Manager.</span></span> <span data-ttu-id="70be8-128">Anne-Marie Jespersen har standardrolle som programadministrator.</span><span class="sxs-lookup"><span data-stu-id="70be8-128">Ashley Chinn has the default role of Program Manager.</span></span>

![Flere roller tildelt til en ressource](media/upgrade-multiple-roles-02.png)

<span data-ttu-id="70be8-130">Da rollerne som udvikler og programadministrator er forskellige, er omkostnings- og salgsestimaterne som følger:</span><span class="sxs-lookup"><span data-stu-id="70be8-130">Because the roles of Developer and Program Manager differ, the cost and sales estimates are as follows:</span></span>

![Omkostningsestimater for ressourceroller](media/upggrade-cost-estimates-03.png)

![Salgsestimater for ressourceroller](media/upgrade-sales-estimates-04.png)

<span data-ttu-id="70be8-133">Når du opgraderer til version 3, erstattes linjeopgaver af ressourcetildelinger i forbindelse med opgaven for det reserverbare ressourceteammedlem.</span><span class="sxs-lookup"><span data-stu-id="70be8-133">When you upgrade to version 3, line tasks are replaced with resource assignments on the task of the bookable resource team member.</span></span> <span data-ttu-id="70be8-134">Tildelingen bruger standardrollen for den reserverbare ressource.</span><span class="sxs-lookup"><span data-stu-id="70be8-134">The assignment will use the default role of the bookable resource.</span></span> <span data-ttu-id="70be8-135">I den følgende illustration er Anne-Marie Jespersen, der har en rolle som programadministrator, ressourcen.</span><span class="sxs-lookup"><span data-stu-id="70be8-135">In the following graphic, Ashley Chinn who has a role of Program Manager, is the resource.</span></span>

![Ressourcetildelinger](media/resource-assignment-v2-05.png)

<span data-ttu-id="70be8-137">Da estimaterne er baseret på standardrollen for ressourcen, kan estimaterne for salg og omkostninger blive ændret.</span><span class="sxs-lookup"><span data-stu-id="70be8-137">Because the estimates are based on the default role for the resource, the sales and cost estimates may change.</span></span> <span data-ttu-id="70be8-138">I den følgende illustration kan ikke længere kan se rollen **Udvikler**, da den nu er taget fra den reserverbare ressources standardrolle.</span><span class="sxs-lookup"><span data-stu-id="70be8-138">In the following graphic, you no longer see the **Developer** role as the role is now taken from the bookable resource’s default role.</span></span>

<span data-ttu-id="70be8-139">![Omkostningsestimater for standardroller](media/resource-assignment-cost-estimate-06.png)
![Salgsestimat for standardroller](media/resource-assignment-sales-estimate-07.png)</span><span class="sxs-lookup"><span data-stu-id="70be8-139">![Cost estimates for default roles](media/resource-assignment-cost-estimate-06.png)
![Sales estimate for default roles](media/resource-assignment-sales-estimate-07.png)</span></span>

<span data-ttu-id="70be8-140">Når opgraderingen er fuldført, kan du redigere et teammedlems rolle til andet end den tildelte standardrolle.</span><span class="sxs-lookup"><span data-stu-id="70be8-140">After upgrade is complete, you can edit a team member's role to be something other than the assigned default.</span></span> <span data-ttu-id="70be8-141">Hvis du ændrer et teammedlems rolle, ændres den imidlertid på alle de tildelte opgaver, da teammedlemmer ikke kan tildeles flere roller i version 3.</span><span class="sxs-lookup"><span data-stu-id="70be8-141">However, if you change a team members role, it will be changed on all of their assigned tasks because team members can't be assigned multiple roles in version 3.</span></span>

![Opdatering af en ressourcerolle](media/resource-role-assignment-08.png)

<span data-ttu-id="70be8-143">Dette gælder også for linjeopgaver, der er tildelt til navngivne ressourcer, når du ændrer ressourcens afdeling fra standardafdelingen til en anden afdeling.</span><span class="sxs-lookup"><span data-stu-id="70be8-143">This is also true for line tasks that were assigned to named resources when you change the resource’s organization unit from the default to another organization unit.</span></span> <span data-ttu-id="70be8-144">Når opgraderingen til version 3 er fuldført, bruger tildelingen ressourcens standardafdeling i stedet for den afdeling, der er angivet for den pågældende linjeopgave.</span><span class="sxs-lookup"><span data-stu-id="70be8-144">After the version 3 upgrade is complete, the assignment will use the resource’s default organization unit instead of the one set on the line task.</span></span>

### <a name="tasks-assigned-to-generic-resources"></a><span data-ttu-id="70be8-145">Opgaver tildelt til generiske ressourcer</span><span class="sxs-lookup"><span data-stu-id="70be8-145">Tasks assigned to generic resources</span></span>
<span data-ttu-id="70be8-146">I version 2 og version 1 kan du angive rollen og afdelingen for en opgave og derefter bruge funktionen **Generér team** til at generere generiske ressourcer på baggrund af de attributter, der er angivet for opgaven.</span><span class="sxs-lookup"><span data-stu-id="70be8-146">In version 2 and version 1, you can set the role and org unit on a task and then use the **Generate team** feature to generate generic resources based on the attributes set on the task.</span></span> <span data-ttu-id="70be8-147">I version 3 kan du oprette de generiske teammedlemmer med rolle og afdeling og derefter tildele teammedlemmerne til opgaver.</span><span class="sxs-lookup"><span data-stu-id="70be8-147">In version 3, you create the generic team members with role and org unit, and then assign the team members to tasks.</span></span>

<span data-ttu-id="70be8-148">I version 2 og version 1 kan projekter med generiske ressourcer være i to tilstande eller en blanding af begge på opgaveniveau.</span><span class="sxs-lookup"><span data-stu-id="70be8-148">In version 2 and version 1, projects with generic resources can be in two states, or a mix of both at the task level.</span></span> <span data-ttu-id="70be8-149">Du kan f.eks. have følgende scenarier:</span><span class="sxs-lookup"><span data-stu-id="70be8-149">For example, you can have the following scenarios:</span></span>

- <span data-ttu-id="70be8-150">Opgaver med roller og afdelinger angivet, men der er ikke genereret en tilknyttet ressourcetildeling.</span><span class="sxs-lookup"><span data-stu-id="70be8-150">Tasks with roles and org units set, but no affiliated resource assignment has been generated.</span></span>
- <span data-ttu-id="70be8-151">Opgaver med ressourcetildelinger til generiske teammedlemmer, der er tildelt ved at oprette en generisk ressource ved hjælp af funktionen **Generér team**.</span><span class="sxs-lookup"><span data-stu-id="70be8-151">Tasks with generic team member resource assignments that were assigned by creating generic resource using the **Generate team** feature.</span></span>

<span data-ttu-id="70be8-152">Før du går i gang med at udføre en opgradering, anbefales det, at du gendanner teamet for hvert enkelt projekt, der har opgaver tildelt til generiske ressourcer, eller hvor der endnu ikke er kørt processen Generér team for dem.</span><span class="sxs-lookup"><span data-stu-id="70be8-152">Before you begin your upgrade, we recommend that you regenerate the team for each project that has tasks assigned to generic resources or has yet to have the generate team process run on them.</span></span>

<span data-ttu-id="70be8-153">I forbindelse med opgaver, der er tildelt til generiske teammedlemmer, som blev genereret vha. **Generér team**, bevarer opgraderingen den generiske ressource i teamet og beholder tildelingen til det generiske teammedlem.</span><span class="sxs-lookup"><span data-stu-id="70be8-153">For tasks that are assigned to generic team members that were generated with **Generate Team**, the upgrade will leave the generic resource on the team and leave the assignment to that generic team member.</span></span> <span data-ttu-id="70be8-154">Det anbefales, at du genererer ressourcekravet for det generiske teammedlem efter opgraderingen, men før du reserverer eller sender en ressourceanmodning.</span><span class="sxs-lookup"><span data-stu-id="70be8-154">We recommend that you generate the resource requirement for the generic team member after the upgrade but before you book or submit a resource request.</span></span> <span data-ttu-id="70be8-155">Derved forbliver eventuelle tildelinger til afdelinger på de generiske teammedlemmer, der er forskellige fra projektets kontraktafdeling.</span><span class="sxs-lookup"><span data-stu-id="70be8-155">This will preserve any org unit assignments on the generic team members that are different than the project’s contracting org unit.</span></span>

<span data-ttu-id="70be8-156">I Projekt Z-projektet er kontraktafdelingen f.eks. Contoso US.</span><span class="sxs-lookup"><span data-stu-id="70be8-156">For example, in the Project Z project, the contracting org unit is Contoso US.</span></span> <span data-ttu-id="70be8-157">I projektplanen er testopgaver i implementeringsfasen blevet tildelt rollen teknisk konsulent, og den tildelte afdeling er Contoso India.</span><span class="sxs-lookup"><span data-stu-id="70be8-157">In the project plan, testing tasks within the Implementation phase have been assigned the role Technical Consultant and the assigned org unit is Contoso India.</span></span>

![Implementeringsfase for tildeling til organisation](media/org-unit-assignment-09.png)

<span data-ttu-id="70be8-159">Efter implementeringsfasen tildeles integrationstestopgaven til rollen teknisk konsulent, men organisationen er angivet til Contoso US.</span><span class="sxs-lookup"><span data-stu-id="70be8-159">After the implementation phase, the integration test task is assigned to the role Technical consultant, but the org is set to Contoso US.</span></span>  

![Tildeling af integrationstestopgave til organisation](media/org-unit-generate-team-10.png)

<span data-ttu-id="70be8-161">Når du genererer et team for projektet, oprettes der to generiske teammedlemmer på grund af de forskellige afdelinger, der er på opgaverne.</span><span class="sxs-lookup"><span data-stu-id="70be8-161">When you generate a team for the project, two generic team members are created due to the different org units on the tasks.</span></span> <span data-ttu-id="70be8-162">Teknisk konsulent 1 tildeles Contoso India-opgaverne og teknisk konsulent 2 tildeles Contoso US-opgaverne.</span><span class="sxs-lookup"><span data-stu-id="70be8-162">Technical consultant 1 will be assigned the Contoso India tasks and Technical consultant 2 will have the Contoso US tasks.</span></span>  

![Genererede generiske teammedlemmer](media/org-unit-assignments-multiple-resources-11.png)

> [!NOTE]
> <span data-ttu-id="70be8-164">I Project Service Automation version 2 og version 1 beholder teammedlemmet ikke den afdeling, som angives i linjeopgaven.</span><span class="sxs-lookup"><span data-stu-id="70be8-164">In Project Service Automation version 2 and version 1, the team member does not hold the organization unit, that is maintained on the line task.</span></span>

![Linjeopgaver i Project Service Automation version 2 og version 1](media/line-tasks-12.png)

<span data-ttu-id="70be8-166">Du kan se afdelingen i estimatvisningen.</span><span class="sxs-lookup"><span data-stu-id="70be8-166">You can see the organization unit on the estimates view.</span></span> 

![Afdelingsestimater](media/org-unit-estimates-view-13.png)
 
<span data-ttu-id="70be8-168">Når opgraderingen er fuldført, føjes afdelingen på linjeopgaven, der svarer til det generiske teammedlem, til det generiske teammedlem, og linjeopgaven fjernes.</span><span class="sxs-lookup"><span data-stu-id="70be8-168">When the upgrade is complete, the organization unit on the line task that corresponds to the generic team member is added to the generic team member and the line task is removed.</span></span> <span data-ttu-id="70be8-169">Det anbefales derfor, at du genererer eller gendanner teamet, før du opgraderer, for hvert projekt, der indeholder generiske ressourcer.</span><span class="sxs-lookup"><span data-stu-id="70be8-169">Because of this, we recommend that before you upgrade, you generate or regenerate the team on each project that contains generic resources.</span></span>

<span data-ttu-id="70be8-170">For opgaver, der er tildelt til en rolle med en afdeling, der er anderledes end afdelingen i kontraktprojektet, og der ikke er genereret et team, opretter opgraderingen et generisk teammedlem for rollen, men bruger projektets kontraktenhed til teammedlemmets afdeling.</span><span class="sxs-lookup"><span data-stu-id="70be8-170">For tasks that are assigned to a role with an org unit that differs from the org unit of the contracting project, and a team has not been generated, upgrade will create a generic team member for the role, but will use the contracting unit of the project for the team member's org unit.</span></span> <span data-ttu-id="70be8-171">Idet vi igen refererer til eksemplet med Projekt Z, er kontraktenheden Contoso US og projektplanens testopgaver i implementeringsfasen blevet tildelt rollen teknisk konsulent med den afdeling, der er tildelt til Contoso India.</span><span class="sxs-lookup"><span data-stu-id="70be8-171">Referring back to the example with Project Z, the contracting org unit Contoso US, and the project plan testing tasks within the Implementation phase have been assigned the role Technical Consultant with the org unit assigned to Contoso India.</span></span> <span data-ttu-id="70be8-172">Integrationstestopgaven, der udføres efter implementeringsfasen, er blevet tildelt til rollen teknisk konsulent.</span><span class="sxs-lookup"><span data-stu-id="70be8-172">The Integration test task that is completed after the Implementation phase has been assigned to the role Technical consultant.</span></span> <span data-ttu-id="70be8-173">Afdelingen er Contoso US, og der er ikke genereret et team.</span><span class="sxs-lookup"><span data-stu-id="70be8-173">The org unit is Contoso US and a team has not been generated.</span></span> <span data-ttu-id="70be8-174">Opgraderingen opretter et generisk teammedlem, en teknisk konsulent, der har de tildelte timer for alle tre opgaver, og en afdeling af Contoso US, projektets kontraktafdeling.</span><span class="sxs-lookup"><span data-stu-id="70be8-174">Upgrade will create one generic team member, a Technical consultant that has the assigned hours of all three tasks, and an org unit of Contoso US, the project’s contracting org unit.</span></span>   
 
<span data-ttu-id="70be8-175">Ændringer af standardværdien for de forskellige ressourceafdelinger vedrørende ikke-genererede teammedlemmer er årsagen til, at vi anbefaler, at du genererer eller regenererer teamet på hvert enkelt projekt, der indeholder generiske ressourcer før opgraderingen, så afdelingstildelingerne ikke går tabt.</span><span class="sxs-lookup"><span data-stu-id="70be8-175">Changing the default of the different resourcing org units on ungenerated team members is the reason we recommend that you generate or regenerate the team on each project that contains generic resources prior to the upgrade so that the org unit assignments are not lost.</span></span>



[!INCLUDE[footer-include](../includes/footer-banner.md)]